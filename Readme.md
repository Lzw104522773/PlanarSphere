# Planarsphere

![Language](https://img.shields.io/static/v1?label=language&message=english%20%7C%20russian%20%7C%20&color=informational)

**Autor** : **Inferno**

[Link to SHS Mod Forum](http://www.shsforums.net/topic/24405-planar-sphere-mod-v26a/)

[Link to Beamdog Mod Forum](https://forums.beamdog.com/discussion/75761/mod-spotlight-planar-sphere-mod)

[Link to original Mod Download](http://www.shsforums.net/files/file/131-planarsphere/)


[See readme-planarsphere.html](https://the-gate-project.github.io/PlanarSphere/planarspheremod/readme/readme-planarsphere.html)


## Description:
---------------

This mod is for mature players. There is very limited swearing/sexual innuendo contained herein.

As said by Hlidskialfs "The Planar Sphere mini-mod is worth installing if you?re playing a mage, and nicely answers the question of what you?re going to do with that huge empty sphere now that you have it."
However, if you didn't find the warped humor in the original Planar Sphere mod amusing, it's strongly advised against playing it now. That aspect of it has not been changed at all. If anything, it's worse. Much much worse.

After the first apprentices quest has been done you will have one last encounter with Teos (all native in the game) in which the Sphere is attacked by anti-magic fanatics. After undertaking the quest to get rid of the offenders, and reporting back to Teos, the mod begins as Teos returns some days later (seven days later). 
If you have already done the normal Planar Sphere quest (or even entered the Sphere) you will have to cheat. Simply type ClueConsole:CreateCreature("psTeos") within the cheatconsole, on the first level of the Planar Sphere and you can start the mod.


For those who have played PS before, as of v2.5 a fair amount of new content was added and a number of the old quests have been modified.
Some of the new content is *somewhat* hard to find. To find a complete list of noteworthy changes check the very bottom of this read me, under the section entitled SPOILERS.


If you who don't like spoilers but want to know what to expect:

- There are two stores, one selling mostly spells, one selling all sorts of fun equipment.

- There are a number of optional encounters around the city at one point in the game, it *should* be obvious when you should go wandering around, looking for weird stuff.

- Talk to all of the people in the PS. Don't bother talking to the apprentices in the main areas though. They generally say the same stuff.

- There is a forge that will let you make a variety of items. The forge itself is downstairs in the fire room. (Next to the ice room, there are three dwarfs walking around)


## Install:
-----------

BG2EE or BGII: Throne of Bhaal is required. This mod was not built to include the PlanarSphere Return add-on and compatibility issues may arise.


The mod was made Weidu-compatible by Hlidskialf and should install like any other Weidu mod. 

Unzip the main ZIP file into your BGII main directory. This is normally:
        C:\Program Files\Black Isle\BGII - SoA\

Run (click on) "Setup-PlanarSphere.exe" and follow further instructions from there.

To uninstall, run "Setup-PlanarSphere.exe" again and select the uninstall option.  

**EET** : Install this mod **in your BG2EE game AFTER** EET !

## Compatibility :
------------------

**This mod should work without significant issues, but it is still a work in progress.**


## Known bugs
------------------

Issues with Harper Quest if it's not finished before PS's main quest triggers.
It is advised that you do the Harper Hold piece of Jaheria's romance BEFORE you trigger the main PS quest (The main quest is triggered by returning the Artifact to Teos).

If you use the innate ability "Forge Item" anywhere, the forge will talk to you the moment you enter its sight range, without you having to cast Forge Item again. This annoys me but I can't figure out a way around it at the moment, at least not without re-writing the way it works.

Also, there MAY be conflicts with Beyond The Law. BTL requires that you spend some time in the Government district, it is conceivable that you could be prevented from accessing the government building at a very inopportune time. I haven't checked this for sure, because my BTL game ended up being "Lets fix PS instead of playing!" If anyone does encounter any issues, please let me know. 

## Changelog
------------------

v1.7 - **Hlidskialf**
- Updated code and a fixed encounter with the "mage".

v1.8 - **Hlidskialf**
- Included a bugfix forgotten to include with v1.7. You should be able to complete the mod unhindered now.

v1.9 - **Hlidskialf**
- Includes some minor bugfixes discovered after fixing the quest-breakers in the last version.

v2.0 - **Jack Archer** (thedonkeyman@gmail.com)
- Includes the massive text update.

v2.1 
- Died stillborn, and to prevent confusion is omitted.

v2.2 - **Hlidskialf**
- Small bugfixes and script changes. 
- Spanish translation added. (Thanks much for the folks at ClanREO!)

v2.5 - **Duality** (dualities.shadow@gmail.com)
- Re-named almost all the files. 

- Numerous mid-quest fixes. Some quests were tweaked.

- Spelling errors fixed and dialog re-written. New dialogs were also added.

- Dialog files combined. Creatures no longer have multiple dialog files (there is one exception to this.)

- The forge now works. Also fixed a number of problems with the forge itself.

- Most spells nerfed, some tweaked, some made to do what their description says they do.

- Drops nerfed. The various encounters, especially the optional ones, no longer grant great hauls of high level loot.

- There is a new encounter in the docks, in the bridge district and in the temple district.

- A few items were added, some items were fixed.

- A number of scenes re-worked. Party should not get stuck during cut scene anymore.

- A new store added.

- Two quests in the making. 

- Changed the way the forced encounter in the slums works.

- The final area was fixed. The file used to be corrupt and when it DID work, there were large portions of the map that should have been moveable but weren't. This has all been fixed.

- Lots of creatures scripts were changed.

- Final battle now scales to the difficulty setting, as do the rewards.

- Stupid globes in the government district have been re-worked slightly and are now killable.

- Removed a large number of duplicate entries from setup.tra.

v2.6 - **Malbolgia**
- Spanish translation not included due to dialog changes in 2.5 and 2.6 (I do not know any Spanish)

- Changed and fixed the rakshasa dialog

- Made the shop in Waukeen's Promenade optional at install

- Removed Dualitys Folder Information files from all folders ^_^

- Edited this readme file and merged the changelog with it

- Removed Teos' portrait (ugly thing that it was)

- Fixed the Apprenti/Adventurers battle cutscene.

- Added Planar Sphere Return Mod as optional install (not bugfixed, if any)

- Changed and fixed Baatezu dialog

- Changed Teos dialog

- Changed Sorcerer dialog

- Changed dream dialog 

v2.6b
- Bug fixes implemented by Ieldra, Ikki, and ScuD (mostly to fix stuff that I couldn't manage to do before I went missing :p) -**Duality**

v2.6c
- Bug with Key fixed YET AGAIN

- Streamlined tp2 file courtesy of **erebusant** (it got messy with various people's fixes and erebusant also cleaned up some of my messes)

v2.8  
- Correction  
	- arpsq2.are Bwp fix  
	- psbaatl.baf, pstanal.baf Bwp fix  
	-  psglobe1.baf, psglobe2.baf, psglobe3.baf, psglobe4.baf, psglobe6.baf Bwp fix  
	- psadapp1.cre Bwp fix  
	- pstest01.cre, pstest02.cre, pstest03.cre, pstest04.cre Bwp fix  
	- pstutor6.d Bwp fix  
	- pshelm02.itm, psmade12.itm Bwp fix  
	- psstaf01.itm, psstaf02.itm Bwp fix  
	- pssw1h02.itm Bwp fix  
	- Missing Bwp fix for psglobe5.baf  
	- Meaningful corrections from the mod Magestronghold  

- Additions  
	- APPEND  
	`APPEND ~Animate.ids~ ~0xE050 IC_LICHBLACK~ UNLESS ~0xE050 IC_LICHBLACK~
APPEND ~Animate.ids~ ~0x7f3a HULA_WIZARD~ UNLESS ~0x7f3a HULA_WIZARD~` 
	- PVRZ for AR0452  
	- Add IconV / Handle Charset and  language / autotra folders  
	- Modified tp2 (slightly)  
	- Add readme md  
	- Russian translation  
	- Missing traification from ArcaneCoast	  
	- Delete duplicate psmari1.baf  
	- Delete backup  
	
v2.8.5  
- Correct Sorcery ability (pssorc.baf)
- Correct bad ending for final battle (if you don't have the key), (psmelwin.d) and (pscut17.baf) modified
- Correction for spcl668.spl
  - Removed class change to sorcerer
  - Removed effect applied to other npc (only the main one will be affected)

- Correction for tp2 (Autotra for translation files)	
- Update Russian encoding in setup.tra (Thanks to Paladin84)
- Using right files for translation (hopefully...)

- Attempt to adapt item description for EE
  - Using GW_WRITE_EE_ITM_DESCRIPTIONS fonction from Freddy_Gwendo
  - Add gw_functions.tpa

## SPOILERS
------------------

**Waukeen's Promenade** - Averners Odd Items
A New shop. As some of you will notice, many of the items from the shop contained within the PS have been replaced. They have been moved to a NEW shop. This new shop also sells a number of other powerful items. For exorbitant prices.
To find this new shop, go to the bottom left of Waukeens, on top of the Coliseum walls, AFTER killing the Demilich and BEFORE killing the final boss. Speak to the Moose. (yeah, you heard me right) Once you have entered Waukeen's Promenade, the shop will only exist for 7 days before disappearing. This is because the shop sells some very overpowered items. Thus it is only accessible IF you took the main quest and even then, not for very long.

**Temple District** - 'ware the Demons!
A new encounter has been added in the Temple District AFTER you kill the Demilich and BEFORE you kill the final boss. This encounter can be skipped completely if you wish. This encounter contains the longest cutscene ever. (Well, maybe not, but close) And contains a large number of actors are running around at the same time. Plus it has some of my worst/best attempts at humor. I still laugh when watching the scene. Which is probably bad for the rest of you since I have a weird sense of humor. (Lemurs!) Due to the large number of actors, if you have a very low end machine, I'd advise you to skip this encounter.

**Bridge District** - Twins? No. Triplets? No. What's next?
A new encounter has been added in the Bridge District, AFTER you kill the Demilich and BEFORE you kill the final boss. (heard that before?) This encounter can be skipped if you wish. I mainly made it to test some script options. But there is a nice reward if you finish it. Without getting swarmed and destroyed.

**Planar Sphere** : Upper Level
Most of the original quests have been modified. The demons quest has been rewritten slightly. The Examiner mini-quest is unchanged as are the three fed-ex quests, but the Cowled Enforcer quest has been changed slightly. (To find all of these people, talk to everyone in the room where Teos spawns. The demons are in the room where the Guardian Golem spawns)

Also, once you have finished the main quest, your new contact, named Belle, will appear. Talk to her. There are two quests associated with her, one has yet to be completed. And wont be completed until the next version.

**Planar Sphere** : Control Room
A new Quest has been added here. It is started by talking to the Professor on the platform.
Note: As of v2.5 this quest is not complete. Just the intro is available (talking to the Professor). The quest itself will be somewhat long and I decided if I waited to release PS until I had finished this quest, it would never be released.

**Planar Sphere** : Weird mushroom room off of Control Room
For lack of a better name. The area reference is AR0420. This is where Inchantra is hiding if you took the Cowled Enforcer's quest.

**Planar Sphere** : Room with weird device off of Control Room
Check back here after you have finished off the final boss, you might be surprised. :)

**Planar Sphere** : Hot/Cold Room where Tolgerias spawns
The forge now spawns in the fire room. Along with a few dwarfs to tell you what to do.


### FINAL BATTLE:
------------------

**This is a rough synopsis of how Mel's script changes for the different difficulty levels. There are a few other minor changes between difficulties that aren't listed.
Also note that the higher the difficulty, the better the reward.**

Spells:
Shield Of Oblivion - Grants immunity to ALL spells and ALL weapons for 40 seconds.
Melanthiums Rage - Think GIANT METEORS smashing you to bits. Like dinosaur extinction size meteors.
Rain of Terror - 50 damage to the target. No save, no nothing.

**Easy** :
Mel can only cast timestop 3 times
He can never cast Shield of Oblivion after it is first cast
Can cast Bigbys Crushing Hand 4 times
Can cast Chain Lightning/Greater Malison/Chaos combo 4 times
Can Dispel the entire party 2 times
Can Spellstrike the entire party 2 times
Can cast Rain of Terror once
Can cast Horrid Wilting 3 times
Can cast Melanthiums Rage once
Can restore spell protections once
Can summon one dark planatar
Can cast absolute mantle/stoneskin 2 times

Unlimited cast spells are:
Fireball, Flame Arrow, Magic Missile, Acid Arrow

Reward is: 20,000 gold.


**Core** :
Mel can cast timestop 4 times
Can cast Horrid Wilting 4 times
Can cast Rain of Terror once
Can summon two dark planatars
Can cast Shield of Oblivion once
Can cast Bigbys Crushing Hand 6 times
Can cast Chain Lightning/Greater Malison/Chaos combo 4 times
Can Dispel the entire party 2 times
Can Spellstrike the entire party 2 times
Can cast Melanthiums Rage once
Can restore spell protections once
Can cast absolute mantle/stoneskin 6 times

Unlimited cast spells are:
Sunfire, Fireball, Chain Lightning, Magic Missile

Some spells occur more frequently

Reward is: 25,000 gold and two Rogue Stones.


**Normal** :
Mel can cast timestop 5 times
Can cast Horrid Wilting 6 times
Can cast Rain of Terror twice
Can summon two dark planatars
Can cast Shield of Oblivion twice
Can cast Bigbys Crushing Hand 8 times
Can cast Chain Lightning/Greater Malison/Chaos combo 5 times
Can Dispel the entire party 3 times
Can Spellstrike the entire party 3 times
Can cast Melanthiums Rage twice
Can restore spell protections once
Can cast absolute mantle/stoneskin/true sight 8 times

Unlimited cast spells are:
Sunfire, Finger of Death, Mordenkainens Sword, Magic Missile

Reward is: 30,000 gold, two Rogue stones and the Amulet of cheetah speed.


**Hard** :
Mel can cast timestop 6 times
Can cast Horrid Wilting 7 times
Can cast Rain of Terror 3 times
Can summon 3 dark planatars
Can cast Shield of Oblivion 3 times
Can cast Bigbys Crushing Hand 8 times
Can cast Chain Lightning/Greater Malison/Chaos combo 5 times
Can Dispel the entire party 4 times
Can Spellstrike the entire party 4 times
Can cast Melanthiums Rage 3 times
Can restore spell protections twice, Shield of Oblivion is also included
Can cast absolute mantle/stoneskin/true sight 8 times
Can fully restore himself twice (once HP is less then 300)

Unlimited cast spells are:
Prismatic Spray, Finger of Death, Delayed Blast Fireball, Magic Missile

Mel also gets:
+6 bonus to AC
+10 bonus to MR
+3 bonus to casting speed

Reward is: 35,000 gold, two Rogue Stones, the Amulet of Cheetah Speed and the Gloves of Spellweaving.



**DO NOT SET IT TO INSANE UNLESS YOU WANT TO RELOAD. ALOT.**
Melanthium's Rage alone will do 150 (roughly) to any party members caught in the blast. Get the point?

**Insane** :
Mel can cast timestop 15 times
Can cast Horrid Wilting 25 times
Can cast Rain of Terror 5 times
Can summon 8 dark planatars
Can cast Shield of Oblivion 8 times
Can cast Bigbys Crushing Hand 20 times
Can cast Chain Lightning/Greater Malison/Chaos combo 10 times
Can Dispel the entire party an unlimited number of times
Can Spellstrike the entire party an unlimited number of times
Can cast Melanthiums Rage 5 times
Can restore spell protections 5 times, Shield of Oblivion is also included
Can cast absolute mantle/stoneskin/true sight 15 times
Can fully restore himself twice (once HP is less then 200)

Unlimited cast spells are:
Maze, Finger of Death, Delayed Blast Fireball, Meteor Swarm

All powerful spells are cast more frequently. He tends to have a serious love of meteor swarm. As in, "oh look, I'm being pummeled by three meteor swarms at once, how nice."

Mel also gets:
+12 bonus to AC
+20 bonus to MR
+6 bonus to casting speed

Reward is: 50,000 gold, two Rogue Stones, the Amulet of Cheetah Speed, Gloves of Spellweaving and the Staff of Sorcery.
